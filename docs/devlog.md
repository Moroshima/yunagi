# å¼€å‘æ—¥å¿—

è®°å½•ä¸€ä¸‹é¡¹ç›®çš„è¸©å‘æ—¥å¸¸

## é¡¹ç›®å‚è€ƒ

[ä½¿ç”¨ Next.js + Hexo é‡æ„æˆ‘çš„åšå®¢ | Sukka's Blog (skk.moe)](https://blog.skk.moe/post/use-nextjs-and-hexo-to-rebuild-my-blog/)

[ç”¨ Markdoc é‡æ„äº†ç§‘æŠ€å¾®è®¯åšå®¢ (kejiweixun.com)](https://kejiweixun.com/blog/refactor-my-blog-using-markdoc-and-nextjs/)

## å­—ä½“

| ç±»åˆ« | å­—ä½“          |
| ---- | ------------- |
| è‹±æ–‡ | EB Garamond   |
| ä¸­æ–‡ | Noto Serif SC |
| ç­‰å®½ | Fira Code     |

å…³äº EB Garamond ä¸ Noto Serif SC å‚è§ [Browse Fonts - Google Fonts](https://fonts.google.com/)

## å›¾æ ‡ï¼ˆåº“ï¼‰

[Octicons | Interface guidelines (primer.style)](https://primer.style/design/foundations/icons/)

## CI/CD

[ä½¿ç”¨ Cloudflare Pages éƒ¨ç½²é™æ€ç½‘ç«™ - Keenwon's Blog](https://keenwon.com/deploy-on-cloudflare-pages/)

[Authentication Â· Cloudflare Workers docs](https://developers.cloudflare.com/workers/wrangler-legacy/authentication/#using-environment-variables)

[Cloudflare Pages å¸¸è§é—®é¢˜ (tarocch1.com)](https://blog.tarocch1.com/posts/cloudflare-pages-faq)

### å…³äº Cloudflare Pages æ„å»ºé•œåƒä¸­ Node è¿‡æ—§çš„é—®é¢˜

[Node_version - Developers / Cloudflare Pages - Cloudflare Community](https://community.cloudflare.com/t/node-version/430291)

[Build Image Update Â· cloudflare pages-build-image Â· Discussion #1 (github.com)](https://github.com/cloudflare/pages-build-image/discussions/1)

### ä½¿ç”¨ wrangler & GitHub Actions éƒ¨ç½² Cloudflare Pages

[cloudflare/wrangler-action: ğŸ§™â€â™€ï¸ zero-config cloudflare workers application deployment using wrangler and github actions](https://github.com/cloudflare/wrangler-action#deploy-your-pages-site-production--preview)

## MDX æ¸²æŸ“

> åœ¨ä¸€äº›åŠŸèƒ½å®ç°ä¸Š remark ä¸ rehype æä¾›äº†ç±»ä¼¼çš„æ’ä»¶ï¼Œæœ¬é¡¹ç›®åœ¨é€‰æ‹©æ’ä»¶æ—¶æ›´å€¾å‘äºä½¿ç”¨é‚£äº›åŒ…ä¸‹è½½é‡æ›´ç›¸å¯¹æ›´å¤§çš„æ’ä»¶ [npm trends: Compare NPM package downloads](https://npmtrends.com/)

| æ’ä»¶                                                         | ç”¨é€”                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [rehype-autolink-headings](https://github.com/rehypejs/rehype-autolink-headings) | add links to headings                                        |
| [rehype-code-title](https://github.com/josestg/rehype-code-title) | add code title to HTML document stream                       |
| [rehype-katex](https://github.com/remarkjs/remark-math/tree/main/packages/rehype-katex) | render math text with KaTeX                                  |
| [rehype-prism-plus](https://github.com/timlrx/rehype-prism-plus) | highlight code blocks with Prism                             |
| [rehype-raw](https://github.com/remarkjs/remark-rehype)      | parse the tree again to render HTML content                  |
| [rehype-slug](https://github.com/rehypejs/rehype-slug)       | add `id`s to headings.                                       |
| [rehype-toc](https://github.com/JS-DevTools/rehype-toc)      | adds a table of contents (TOC) to the page                   |
| [remark-gfm](https://github.com/remarkjs/remark-gfm)         | support [GitHub Flavored Markdown Spec (GFM)](https://github.github.com/gfm/) |
| [remark-math](https://github.com/remarkjs/remark-math)       | support math                                                 |

### è¯„è®ºåŒº

ä½¿ç”¨ [Wrapper customization | MDX ä¸­æ–‡ç½‘ (mdxjs.cn)](https://www.mdxjs.cn/guides/wrapper-customization) å‘ mdx é¡µé¢æ¸²æŸ“å†…å®¹åæ·»åŠ  [giscus](https://giscus.app/zh-CN) è¯„è®ºåŒºç»„ä»¶ï¼ˆ[GitHub - giscus/giscus-component: Component library for giscus, a comment system powered by GitHub Discussions.](https://github.com/giscus/giscus-component)ï¼‰

### ä»£ç å—

[How to add code blocks with syntax highlighting to a Next.js blog using MDX with Prism.js â€“ Ryan Carmody](https://www.ryancarmody.dev/blog/add-code-blocks-with-syntax-highlighting-to-nextjs-blog-prismjs)

æœ¬é¡¹ç›®ä½¿ç”¨çš„ [One Dark](https://github.com/PrismJS/prism-themes/blob/master/themes/prism-one-dark.css) ä¸»é¢˜æ¥è‡ªäº [GitHub - PrismJS/prism-themes: A wider selection of Prism themes](https://github.com/PrismJS/prism-themes)

#### ä»£ç å—å¤åˆ¶æŒ‰é’®åŠŸèƒ½

[Copy to clipboard button in MDX with Next.js and Rehype Pretty Code | ClarityDev blog](https://claritydev.net/blog/copy-to-clipboard-button-nextjs-mdx-rehype)

ç®€è€Œè¨€ä¹‹ï¼Œå…·ä½“åŠŸèƒ½çš„å®ç°ä¸ºä½¿ç”¨ [unist-util-visit](https://github.com/syntax-tree/unist-util-visit) åœ¨ code block è¢«è§£ææ¸²æŸ“ä¹‹é—´ä»‹å…¥ï¼Œå°† code block åŸå§‹å†…å®¹æŒ‚è½½åˆ° \<code> DOM çš„ properties ä¸Šï¼Œä»¥ä¾›æŒ‰é’®å®ç°è°ƒç”¨ã€‚

å¤åˆ¶åˆ°å‰ªè´´æ¿åˆ™æ˜¯åŸºäºæµè§ˆå™¨åŸç”Ÿ Web API å®ç°ï¼Œå‚è§ [Clipboard.writeText() - Web API æ¥å£å‚è€ƒ | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/API/Clipboard/writeText)ã€‚

> å¯èƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ [remark-mdx-code-meta](https://github.com/remcohaszing/remark-mdx-code-meta) å–ä»£ [unist-util-visit](https://github.com/syntax-tree/unist-util-visit) ç›´æ¥ä»‹å…¥ mdx æ¸²æŸ“çš„æ–¹æ¡ˆï¼Œä½†æ˜¯å› ä¸ºè¯¥æ’ä»¶ä¸‹è½½é‡ä¸ star å‡è¾ƒå°‘ï¼Œå› æ­¤åœ¨æœ¬é¡¹ç›®ä¸­å¹¶æœªé‡‡å–ä½¿ç”¨ã€‚

#### ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ react-syntax-highlighter

åœ¨ create-react-app æ‰€æ„å»ºçš„åŸç”Ÿ Client-side renderingï¼ˆCSRï¼‰çš„ React App ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [react-markdown](https://github.com/remarkjs/react-markdown) æ­é… [react-syntax-highlighter](https://github.com/react-syntax-highlighter/react-syntax-highlighter) å¹¶ä½¿ç”¨ Prism å®ç°éå¸¸ä¼˜ç§€çš„ä»£ç å—é«˜äº®æ¸²æŸ“ï¼Œä½†æ˜¯åœ¨ Next.js ä¸‹æ­é… @next/mdxï¼ˆå‚è§ [Advanced Features: Using MDX | Next.js (nextjs.org)](https://nextjs.org/docs/advanced-features/using-mdx)ï¼‰ä½¿ç”¨ react-syntax-highlighter ä¼šå­˜åœ¨å¦‚ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š

- [node.js - NextJS - Unexpected Token Import - Stack Overflow](https://stackoverflow.com/questions/58966891/nextjs-unexpected-token-import)
- [language identifier not working in nextjs Â· Issue #492 Â· react-syntax-highlighter/react-syntax-highlighter Â· GitHub](https://github.com/react-syntax-highlighter/react-syntax-highlighter/issues/492)

ç¬¬ä¸€ä¸ªé—®é¢˜éå¸¸å®¹æ˜“è§£å†³ï¼Œåªéœ€è¦å°†ä¸»é¢˜å¼•ç”¨é“¾æ¥æ›´æ”¹ä¸ºä» cjs ç›®å½•ä¸‹å¼•ç”¨å³å¯ã€‚ä½†ç¬¬äºŒä¸ªé—®é¢˜åˆ™å› ä¸º react-syntax-highlighter ä¸å†è¢«ç§¯æç»´æŠ¤è€Œè‡³ä»Šä»æœªè¢«ä¿®å¤ï¼Œå”¯ä¸€çš„åšæ³•å°±æ˜¯æ”¾å¼ƒä½¿ç”¨å…¶æä¾›çš„ prism æ”¯æŒè€Œåˆ‡æ¢åˆ° hljsï¼Œä½†é—®é¢˜å°±åœ¨äº highlight.js å¯¹äº jsx/tsx çš„æ”¯æŒéå¸¸ç³Ÿç³•ï¼Œä½œä¸ºå‰ç«¯å¼€å‘ï¼Œcode block ä¸­éš¾ä»¥é¿å…çš„ä¼šå­˜åœ¨å¤§é‡çš„ jsx/tsx å†…å®¹ï¼Œè€Œè¿™æ˜¾ç„¶æ˜¯æˆ‘æ‰€æ— æ³•å®¹å¿çš„ã€‚

#### ä¸ºä»€ä¹ˆä½¿ç”¨ rehype-prism-plus è€Œé rehype-prism

[rehype-prism vs rehype-prism-plus | npm trends](https://npmtrends.com/rehype-prism-vs-rehype-prism-plus)

#### å…³äº Prism çš„è¯­è¨€æ”¯æŒ

[Prism (prismjs.com)](https://prismjs.com/#supported-languages)

## æ€§èƒ½ä¼˜åŒ–

æ¸…é™¤ä¸éœ€è¦çš„ CSS [Next.js | PurgeCSS](https://purgecss.com/guides/next.html)